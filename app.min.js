let tkn="";const setError=e=>{const t=document.getElementById("error");t.innerText=e,t.style.display="block"},resetError=()=>{const e=document.getElementById("error"),t=document.getElementById("success");e.style.display="none",t.style.display="none"},success=e=>{const t=document.getElementById("success");t.innerText=e,t.style.display="block"},postForm=()=>{resetError();const e=document.getElementById("inputPassword").value,t=document.getElementById("inputPasswordRepeat").value;return e?t?e!==t?(setError("Password does not match"),null):void axios.patch("http://localhost:3000/api/v1/auth/reset",{password:e,passwordRepeat:t,token:tkn}).then((function(e){if(console.log(e),e){const t=e.data;t&&t.error?setError(t.errorMessage):"success"===t.status?success(t.msg):setError("Token expired or does not exist")}})).catch((function(e){if(e.response){const t=e.response.data;t.error&&setError(t.errorMessage)}})):(setError("Please enter confirm password"),null):(setError("Please enter password"),null)},getHash=e=>{for(var t="",s="ABCDEFGHIJKLMNOPQRSTUVW!@#$%^()*())(XYZabcdefghijklmnopqrstuvwxyz0123456789",r=s.length,o=0;o<e;o++)t+=s.charAt(Math.floor(Math.random()*r));return t},onPageLoad=()=>{if("undefined"!=typeof window&&window.history){const e=new URL(window.location);e&&e.searchParams&&(tkn=e.searchParams.get("rt"),e.searchParams.set("rt",getHash(25).toLowerCase())),window.history.pushState({},"",e)}};onPageLoad(),document.getElementById("submit").addEventListener("click",postForm);
